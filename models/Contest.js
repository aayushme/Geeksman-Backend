const mongoose=require('mongoose')
const contestSchema=new mongoose.Schema({
contestname:{
    type:String,
    required:true
},
starttime:{
    type:Date,
    required:true
},
endtime:{
    type:Date,
    required:true
},
image:{
    type:String,
    required:true,
},
noofquestions:{
    type:Number,
    required:true,
},
questions:[
{
    type:mongoose.Types.ObjectId,
    ref:'Question',
    default:null
},
],
contestduration:{
type:String,
required:true
},
prize:{
    type:String,
    required:true
},
registeredusers:[
    {
        type:mongoose.Types.ObjectId,
        ref:"RegisteredUser",
        default:null
    }
],
totalslots:[{
  slotno:{
      type:String,
      required:true
  },
  slotstarttime:{
      type:Date,
      required:true
  },
  slotendtime:{
      type:Date,
      required:true
  }  
}],
slotstrength:{
    type:Number,
    required:true,
},
availableslot:{
type:Array,
},
contestdetail:{
    type:String,
    required:true
},
rules:{
    type:String,
    required:true
},
contesttype:{
    type:String,
    enum:['ongoing','upcoming','previous'],
    required:true
}
})
module.exports=mongoose.model('Contest',contestSchema)